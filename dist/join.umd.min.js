!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((e="undefined"!=typeof globalThis?globalThis:e||self).join={})}(this,function(e){"use strict";const n=Object.prototype.toString,t=Object.getPrototypeOf,o=Object.prototype.hasOwnProperty,i=Function.prototype.toString,r=i.call(Object);var f;function c(e,n){for(let t=0;t<n.length;t++)delete e[n[t]]}function s(e,n,t){if(e!==n)for(let o=0;o<t.length;o++){const i=Object.getOwnPropertyDescriptor(n,t[o]);Object.defineProperty(e,t[o],i)}}function p(e){if(!e||"[object Object]"!==n.call(e))return!1;const f=t(e);if(!f)return!0;const c=o.call(f,"constructor")&&f.constructor;return"function"==typeof c&&i.call(c)===r}function l(...e){const n=e.length;let t,o,i,r,f,c,s=e[0]||{},y=1,u=!1;var a;for("boolean"==typeof s&&(u=s,s=e[y]||{},y++),"object"!=typeof s&&("function"!=typeof(a=s)||"number"==typeof a.nodeType)&&(s={}),y===n&&(s={},y--);y<n;y++)if(null!=(t=e[y]))for(o in t)r=t[o],"__proto__"!==o&&s!==r&&(u&&r&&(p(r)||(f=Array.isArray(r)))?(i=s[o],c=f&&!Array.isArray(i)?[]:f||p(i)?i:{},f=!1,s[o]=l(u,c,r)):void 0!==r&&(s[o]=r));return s}function y(n,t,o=e.JoinTypes.expand){if(-16&o)throw new Error("Invalid join type. Please select join type");const i=Object.create(Object.getPrototypeOf(n),Object.getOwnPropertyDescriptors(n));if(o===(e.JoinTypes.left|e.JoinTypes.innerLeft))return i;const r=function(e,n){let t=Object.getOwnPropertyNames(e),o=Object.getOwnPropertyNames(n);const i=new Set(o),r=t.filter(e=>i.has(e)),f=new Set(r);return t=t.filter(e=>!f.has(e)),o=o.filter(e=>!f.has(e)),{left:t,middle:r,right:o}}(i,t);switch(o&e.JoinTypes.innerJoin){case e.JoinTypes.none:c(i,r.middle);break;case e.JoinTypes.innerLeft:break;case e.JoinTypes.innerRight:s(i,t,r.middle);break;case e.JoinTypes.innerJoin:!function(e,n,t){if(e!==n)for(let o=0;o<t.length;o++)if(null===n[t[o]]||n[t[o]]instanceof RegExp||["string","boolean","undefined","symbol","number","bigint"].indexOf(typeof n[t[o]])>-1){const i=Object.getOwnPropertyDescriptor(n,t[o]);Object.defineProperty(e,t[o],i)}else e[t[o]]=l(!0,e[t[o]],n[t[o]])}(i,t,r.middle)}return(o&e.JoinTypes.left)!==e.JoinTypes.left&&c(i,r.left),(o&e.JoinTypes.right)===e.JoinTypes.right&&s(i,t,r.right),i}e.JoinTypes=void 0,(f=e.JoinTypes||(e.JoinTypes={}))[f.none=0]="none",f[f.left=8]="left",f[f.right=1]="right",f[f.innerLeft=4]="innerLeft",f[f.innerRight=2]="innerRight",f[f.innerJoin=6]="innerJoin",f[f.leftJoin=14]="leftJoin",f[f.rightJoin=7]="rightJoin",f[f.fullJoin=15]="fullJoin",f[f.expand=11]="expand",e.join=function(n=e.JoinTypes.expand){if(!n)throw new Error("Unknown join type");return function(e){return function(t){return y(e,t,n)}}}});
//# sourceMappingURL=join.umd.min.js.map
