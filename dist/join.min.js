(function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :
    typeof define === 'function' && define.amd ? define(['exports'], factory) :
    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.join = {}));
})(this, (function (exports) { 'use strict';

    exports.JoinTypes = void 0;function getPartNames(e,n){let t=Object.getOwnPropertyNames(e),i=Object.getOwnPropertyNames(n);const o=t.filter(e=>i.indexOf(e)>-1);return t=t.filter(e=>o.indexOf(e)<0),i=i.filter(e=>o.indexOf(e)<0),{left:t,middle:o,right:i}}function clearNames(e,n){for(let t=0;t<n.length;t++)delete e[n[t]];}function attach(e,n,t){if(e!==n)for(let i=0;i<t.length;i++){const o=Object.getOwnPropertyDescriptor(n,t[i]);Object.defineProperty(e,t[i],o);}}function isFunction(e){return "function"==typeof e&&"number"!=typeof e.nodeType}function isPlainObject(e){const n=Object.prototype.toString,t=Object.getPrototypeOf,i=Object.prototype.hasOwnProperty,o=i.toString,r=o.call(Object);if(!e||"[object Object]"!==n.call(e))return  false;const c=t(e);if(!c)return  true;const s=i.call(c,"constructor")&&c.constructor;return "function"==typeof s&&o.call(s)===r}function extend(...e){const n=e.length;let t,i,o,r,c,s,f=e[0]||{},l=1,a=false;for("boolean"==typeof f&&(a=f,f=e[l]||{},l++),"object"==typeof f||isFunction(f)||(f={}),l===n&&(f={},l--);l<n;l++)if(null!=(t=e[l]))for(i in t)r=t[i],"__proto__"!==i&&f!==r&&(a&&r&&(isPlainObject(r)||(c=Array.isArray(r)))?(o=f[i],s=c&&!Array.isArray(o)?[]:c||isPlainObject(o)?o:{},c=false,f[i]=extend(a,s,r)):void 0!==r&&(f[i]=r));return f}function mergeObjects(e,n,t){if(e!==n)for(let i=0;i<t.length;i++)if(null===n[t[i]]||["string","boolean","null","undefined","symbol","number","bigint","regexp"].indexOf((typeof n[t[i]]).toLowerCase())>-1){const o=Object.getOwnPropertyDescriptor(n,t[i]);Object.defineProperty(e,t[i],o);}else e[t[i]]=extend(true,e[t[i]],n[t[i]]);}function joinSource(e,n=exports.JoinTypes.expand){if((15|n)<=0)throw new Error("Invalid join type. Please select join type");if(n===(exports.JoinTypes.left|exports.JoinTypes.innerLeft))return this;const t=getPartNames(this,e);switch(n&exports.JoinTypes.innerJoin){case exports.JoinTypes.none:clearNames(this,t.middle);break;case exports.JoinTypes.innerLeft:break;case exports.JoinTypes.innerRight:attach(this,e,t.middle);break;case exports.JoinTypes.innerJoin:mergeObjects(this,e,t.middle);}return (n&exports.JoinTypes.left)!==exports.JoinTypes.left&&clearNames(this,t.left),(n&exports.JoinTypes.right)===exports.JoinTypes.right&&attach(this,e,t.right),this}!function(e){e[e.none=0]="none",e[e.left=8]="left",e[e.right=1]="right",e[e.innerLeft=4]="innerLeft",e[e.innerRight=2]="innerRight",e[e.innerJoin=6]="innerJoin",e[e.leftJoin=14]="leftJoin",e[e.rightJoin=7]="rightJoin",e[e.fullJoin=15]="fullJoin",e[e.expand=11]="expand";}(exports.JoinTypes||(exports.JoinTypes={}));function join(e=exports.JoinTypes.expand){if(!e)throw new Error("Unknown join type");return function(n){return function(t){return joinSource.call(n,t,e)}}}

    exports.join = join;

}));
//# sourceMappingURL=join.min.js.map
