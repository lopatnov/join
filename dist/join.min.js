(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :
  typeof define === 'function' && define.amd ? define(['exports'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.join = {}));
}(this, (function (exports) { 'use strict';

  exports.JoinTypes = void 0;function getPartNames(e,n){var t=Object.getOwnPropertyNames(e),r=Object.getOwnPropertyNames(n),i=t.filter((function(e){return r.indexOf(e)>-1}));return t=t.filter((function(e){return i.indexOf(e)<0})),r=r.filter((function(e){return i.indexOf(e)<0})),{left:t,middle:i,right:r}}function clearNames(e,n){for(var t=0;t<n.length;t++)delete e[n[t]];}function attach(e,n,t){if(e!==n)for(var r=0;r<t.length;r++){var i=Object.getOwnPropertyDescriptor(n,t[r]);Object.defineProperty(e,t[r],i);}}function isFunction(e){return "function"==typeof e&&"number"!=typeof e.nodeType}function isPlainObject(e){var n,t,r=Object.prototype.toString,i=Object.getPrototypeOf,o=Object.prototype.hasOwnProperty,c=o.toString,f=c.call(Object);return !(!e||"[object Object]"!==r.call(e))&&(!(n=i(e))||"function"==typeof(t=o.call(n,"constructor")&&n.constructor)&&c.call(t)===f)}function extend(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var t,r,i,o,c,f,a=arguments[0]||{},s=1,l=arguments.length,p=!1;for("boolean"==typeof a&&(p=a,a=arguments[s]||{},s++),"object"==typeof a||isFunction(a)||(a={}),s===l&&(a={},s--);s<l;s++)if(null!=(t=arguments[s]))for(r in t)o=t[r],"__proto__"!==r&&a!==o&&(p&&o&&(isPlainObject(o)||(c=Array.isArray(o)))?(i=a[r],f=c&&!Array.isArray(i)?[]:c||isPlainObject(i)?i:{},c=!1,a[r]=extend(p,f,o)):void 0!==o&&(a[r]=o));return a}function mergeObjects(e,n,t){if(e!==n)for(var r=0;r<t.length;r++)if(null===n[t[r]]||["string","boolean","null","undefined","symbol","number","bigint","regexp"].indexOf((typeof n[t[r]]).toLowerCase())>-1){var i=Object.getOwnPropertyDescriptor(n,t[r]);Object.defineProperty(e,t[r],i);}else e[t[r]]=extend(!0,e[t[r]],n[t[r]]);}function joinSource(e,n){if(void 0===n&&(n=exports.JoinTypes.expand),(15|n)<=0)throw new Error("Invalid join type. Please select join type");if(n===(exports.JoinTypes.left|exports.JoinTypes.innerLeft))return this;var t=getPartNames(this,e);switch(n&exports.JoinTypes.innerJoin){case exports.JoinTypes.none:clearNames(this,t.middle);break;case exports.JoinTypes.innerLeft:break;case exports.JoinTypes.innerRight:attach(this,e,t.middle);break;case exports.JoinTypes.innerJoin:mergeObjects(this,e,t.middle);}return (n&exports.JoinTypes.left)!==exports.JoinTypes.left&&clearNames(this,t.left),(n&exports.JoinTypes.right)===exports.JoinTypes.right&&attach(this,e,t.right),this}!function(e){e[e.none=0]="none",e[e.left=8]="left",e[e.right=1]="right",e[e.innerLeft=4]="innerLeft",e[e.innerRight=2]="innerRight",e[e.innerJoin=6]="innerJoin",e[e.leftJoin=14]="leftJoin",e[e.rightJoin=7]="rightJoin",e[e.fullJoin=15]="fullJoin",e[e.expand=11]="expand";}(exports.JoinTypes||(exports.JoinTypes={}));function join(e){if(void 0===e&&(e=exports.JoinTypes.expand),!e)throw new Error("Unknown join type");return function(n){return function(t){return joinSource.call(n,t,e)}}}

  exports.join = join;

  Object.defineProperty(exports, '__esModule', { value: true });

})));
//# sourceMappingURL=join.min.js.map
